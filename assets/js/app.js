const messages = [
    "С 8 Марта! Пусть в твоем сердце всегда живет весна, а каждый день приносит радость и счастье!",
    "Поздравляю с праздником весны! Пусть этот день подарит тебе море цветов и лучезарные улыбки!",
    "С Международным женским днем! Пусть все твои мечты сбываются, а радость согревает душу!",
    "Пусть этот чудесный день наполнит тебя вдохновением, счастьем и приятными сюрпризами!",
    "С 8 Марта! Желаю тебе неиссякаемой энергии, женственности и весеннего настроения!",
    "Дорогая, пусть каждый день дарит тебе радость, любовь и теплые моменты счастья!",
    "С праздником! Пусть весна принесет в твою жизнь новые свершения и незабываемые впечатления!",
    "Пусть твоя красота и доброта озаряют этот мир! Желаю счастья, любви и гармонии!",
    "Поздравляю! Пусть каждый твой день будет ярким, полным тепла и искренних улыбок!",
    "С Международным женским днем! Пусть в душе всегда цветет весна, а счастье не покидает тебя!",
    "Пусть этот праздник подарит тебе свет, радость и невероятные моменты счастья!",
    "Желаю, чтобы каждый день был наполнен искренней любовью и красивыми мечтами!",
    "С 8 Марта! Пусть твоя жизнь будет такой же яркой, как первые весенние цветы!",
    "С праздником! Пусть в твоей душе всегда будет солнце, а в сердце – любовь и гармония!",
    "Пусть этот день принесет тебе море положительных эмоций и счастливых мгновений!",
    "Желаю, чтобы улыбка не сходила с твоего лица, а радость была постоянным спутником!",
    "С Международным женским днем! Пусть каждый миг будет наполнен счастьем и теплом!",
    "Поздравляю с весенним праздником! Пусть он принесет тебе добрые сюрпризы и приятные моменты!",
    "С 8 Марта! Пусть все твои мечты исполняются, а жизнь будет похожа на сказку!",
    "Пусть каждый день приносит тебе вдохновение, радость и море улыбок!",
    "С праздником весны! Желаю тебе нежности, уюта и прекрасного настроения!",
    "Поздравляю с 8 Марта! Пусть в жизни будет больше теплых слов, радости и счастья!",
    "Желаю, чтобы в твоей жизни было больше солнечных дней и чудесных мгновений!",
    "Пусть этот день наполнит тебя прекрасными чувствами и теплыми эмоциями!",
    "С 8 Марта! Пусть в твоем доме царит уют, в сердце – любовь, а в жизни – удача!",
    "Поздравляю! Пусть этот день подарит тебе только счастливые воспоминания!",
    "Желаю тебе весеннего тепла, хорошего настроения и море приятных сюрпризов!",
    "С праздником весны! Пусть каждый момент будет наполнен счастьем и радостью!",
    "Поздравляю с Международным женским днем! Пусть каждый день будет особенным!",
    "С 8 Марта! Пусть этот день принесет тебе вдохновение и чудесные эмоции!",
    "Желаю тебе счастья, уюта и только радостных событий в жизни!",
    "С праздником! Пусть этот день будет наполнен любовью, теплом и светом!",
    "Поздравляю! Пусть твоя жизнь будет такой же прекрасной, как весенний рассвет!",
    "С 8 Марта! Желаю тебе чудесных мгновений, весеннего настроения и гармонии в душе!",
    "Поздравляю с праздником! Пусть в твоем сердце всегда будет место для счастья!",
    "С Международным женским днем! Пусть в твоей душе всегда цветет весна!",
    "Пусть этот день будет полон теплых слов, добрых улыбок и радостных встреч!",
    "С 8 Марта! Пусть каждый день будет наполнен счастливыми моментами и вдохновением!",
    "Поздравляю с праздником весны! Пусть каждый твой день будет светлым и добрым!",
    "Желаю, чтобы каждый день приносил тебе только радость и позитивные эмоции!",
    "С 8 Марта! Пусть твое сердце всегда будет открыто для любви и счастья!",
    "Поздравляю! Пусть жизнь будет наполнена приятными сюрпризами и чудесными моментами!",
    "С Международным женским днем! Пусть в твоей жизни будет больше поводов для счастья!",
    "С 8 Марта! Желаю море улыбок, веселья и тепла в этот чудесный день!",
    "Поздравляю! Пусть этот день запомнится радостью, вниманием и теплыми словами!",
    "С праздником весны! Пусть твоя жизнь будет яркой, насыщенной и полной счастья!",
    "Поздравляю с 8 Марта! Пусть твои мечты сбываются, а сердце радуется каждому дню!",
    "С Международным женским днем! Пусть каждый твой день будет прекрасным и незабываемым!"
];
const songs = [
    "assets/music/bogdan-shuvalov-8-marta.mp3",
    "assets/music/denis-vajner-8-marta.mp3",
    "assets/music/evgenij-konstantinov-8-marta.mp3",
    "assets/music/evgenij-ozyornyj-8-marta.mp3",
    "assets/music/evgenij-putilov-k-tebe-lyubimaya.mp3",
    "assets/music/gayazovs-brothers-lyubov-zaraza.mp3",
    "assets/music/gradusy-s-8-marta.mp3",
    "assets/music/grishine-8-marta.mp3",
    "assets/music/hit-sindikat-8-marta.mp3",
    "assets/music/kangi-vozmi-serdce-moyo.mp3",
    "assets/music/nikolaj-baskov-ya-budu-ruki-tvoi-celovat.mp3",
    "assets/music/rajburg-yan-darite-zhenshchinam-cvety.mp3",
    "assets/music/ruki-vverh-dobroj-nezhnoj-laskovoj.mp3",
    "assets/music/sergej-rudov-8-marta.mp3",
    "assets/music/soso-pavliashvili-dlya-tebya.mp3",
    "assets/music/stas-mihajlov-vsyo-dlya-tebya.mp3",
    "assets/music/volodya-angel-8-marta.mp3"
];

// Перемешиваем массив
function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

// Копируем и перемешиваем массивы сообщений и песен
let shuffledMessages = shuffle([...messages]);
let shuffledSongs = shuffle([...songs]);

let msgIndex = 0;
let songIndex = 0;

function showMessage() {
    const randomMessage = shuffledMessages[msgIndex++ % shuffledMessages.length];
    const randomSong = shuffledSongs[songIndex++ % shuffledSongs.length];

    const card = document.getElementById('card');
    card.innerHTML = `
        <div class="message-container">
            <div class="hidden-text" id="message"></div>
        </div>
        <div class="flower-container">
            <img src="assets/images/flower-basket.png" class="flower" alt="Цветок">
        </div>
        <audio id="audio" controls>
            <source src="${randomSong}" type="audio/mpeg">
            Ваш браузер не поддерживает аудиоплеер.
        </audio>
    `;

    // Плавная печать текста
    let i = 0;
    const messageEl = document.getElementById('message');
    messageEl.style.borderRight = '2px solid black';

    function typeWriter() {
        if (i < randomMessage.length) {
            messageEl.innerHTML += randomMessage.charAt(i);
            i++;
            setTimeout(typeWriter, 100);
        } else {
            messageEl.style.borderRight = 'none';
        }
    }
    typeWriter();

    // Проигрываем аудио
    const audio = document.getElementById('audio');
    audio.style.display = 'block';
    audio.play().catch(() => {
        // Если автоплей заблокирован, пользователь должен нажать play
        console.log('Нажмите кнопку play для воспроизведения музыки');
    });
}